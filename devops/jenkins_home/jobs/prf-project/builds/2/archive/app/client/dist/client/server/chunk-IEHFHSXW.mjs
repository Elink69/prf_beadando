import './polyfills.server.mjs';
import{c as h,f as C}from"./chunk-CWJLLRYM.mjs";import{a as V,b as z,c as A}from"./chunk-LLFG3PX3.mjs";import{a as y,b as w}from"./chunk-4PHKKBXD.mjs";import{a as B,b as T,c as D,d as G,e as q,i as L}from"./chunk-SVZPGKZD.mjs";import{Ec as M,Ib as n,Id as F,Ka as u,Kd as S,Md as _,Oa as s,Od as x,Qd as l,Td as I,Ud as R,Va as b,Wd as E,Yd as P,_d as N,ae as O,be as U,ce as j,hb as f,ke as k,pb as i,qb as e,rb as o,xb as g,yc as v}from"./chunk-3HJTAQYK.mjs";import"./chunk-S6KH3LOX.mjs";var d=class{constructor(m,t,r,c){this.name=m;this.email=t;this.password=r;this.role=c}};var W=class p{constructor(m,t,r,c,a){this.formBuilder=m;this.userService=t;this.toastr=r;this.router=c;this.location=a}registerForm;ngOnInit(){this.registerForm=this.formBuilder.group({name:["",[l.required]],email:["",[l.required,l.email]],password:["",[l.required]],confirmPassword:["",[l.required]]},{validator:this.mustMatch("password","confirmPassword")})}mustMatch(m,t){return r=>{let c=r.controls[m],a=r.controls[t];a.errors&&a.errors.mustWatch||(c.value!==a.value?a.setErrors({mustMatch:!0}):a.setErrors(null))}}submit(){if(this.registerForm.valid){let m=new d(this.registerForm.value.name,this.registerForm.value.email,this.registerForm.value.password,2);this.userService.register(m).subscribe({next:()=>{this.toastr.success("Succesfully registered user","Registratrion"),this.router.navigateByUrl("/login")},error:t=>{this.toastr.error(t.error.error,"Registration")}})}else this.toastr.warning("Please check the form for errors","Form invalid")}back(){this.location.back()}static \u0275fac=function(t){return new(t||p)(s(O),s(j),s(k),s(h),s(v))};static \u0275cmp=b({type:p,selectors:[["app-user-register"]],decls:32,vars:2,consts:[[1,"container"],["mat-icon-button","",2,"margin-left","2.5rem","color","var(--mat-sys-on-secondary-container)",3,"click"],[2,"margin-right","5rem"],[3,"ngSubmit","formGroup"],["type","text","matInput","","placeholder","Example Name","formControlName","name"],["type","text","matInput","","placeholder","example@email.com","formControlName","email"],["type","password","matInput","","placeholder","password123","formControlName","password"],["type","password","matInput","","placeholder","password123","formControlName","confirmPassword"],[1,"button"],["type","submit","mat-raised-button","",3,"disabled"]],template:function(t,r){t&1&&(i(0,"mat-card")(1,"div",0)(2,"button",1),g("click",function(){return r.back()}),i(3,"mat-icon"),n(4,"arrow_back"),e()(),i(5,"mat-card-title",2),n(6,"Register"),e(),o(7,"div"),e(),i(8,"mat-card-content")(9,"form",3),g("ngSubmit",function(){return r.submit()}),i(10,"mat-form-field")(11,"mat-label"),n(12,"Name"),e(),o(13,"input",4),e(),o(14,"br"),i(15,"mat-form-field")(16,"mat-label"),n(17,"Email"),e(),o(18,"input",5),e(),o(19,"br"),i(20,"mat-form-field")(21,"mat-label"),n(22,"Password"),e(),o(23,"input",6),e(),o(24,"br"),i(25,"mat-form-field")(26,"mat-label"),n(27,"Confirm Password"),e(),o(28,"input",7),e(),i(29,"div",8)(30,"button",9),n(31,"Register"),e()()()()()),t&2&&(u(9),f("formGroup",r.registerForm),u(21),f("disabled",!r.registerForm.valid&&r.registerForm.dirty))},dependencies:[G,B,D,T,V,L,q,A,z,_,S,F,U,E,x,I,R,P,N,M,C,w,y],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;margin:100px 0}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:1rem;margin-bottom:.5rem}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:#dc143c}mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:25rem;padding-bottom:.4rem}mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:1rem;padding-bottom:1rem}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-left:2rem;padding-right:2rem}.button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:12rem;font-size:medium}"]})};export{W as UserRegisterComponent};
