Started by user unknown or anonymous
[8mha:////4OOeRizJVaDx34r2KQXy1jYpPGX1iadgPoXLR05Q2LuYAAAAoh+LCAAAAAAAAP9tjTEOwjAQBM8BClpKHuFItIiK1krDC0x8GCfWnbEdkooX8TX+gCESFVvtrLSa5wtWKcKBo5UdUu8otU4GP9jS5Mixv3geZcdn2TIl9igbHBs2eJyx4YwwR1SwULBGaj0nRzbDRnX6rmuvydanHMu2V1A5c4MHCFXMWcf8hSnC9jqYxPTz/BXAFEIGsfuclm8zQVqFvQAAAA==[0m[Pipeline] Start of Pipeline
[8mha:////4BXrbiN1jZFFx7vtrThn8Y7TlYRBgpEfL0vGR42t+YgTAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycohUghExsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jduZBmjwAAAAA==[0m[Pipeline] withEnv
[8mha:////4HH4+q85oUEaJx3PesqjwTy8iDyCAMGs8PTo+ndWnctjAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0gA0xsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jfoP95RwAAAAA==[0m[Pipeline] {
[8mha:////4Phc9tsWOSHVBQrx+4Rkc1tcUVUCp1wZb/lKgntQw+VfAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0gQkxsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jc09154wAAAAA==[0m[Pipeline] stage
[8mha:////4NKhAg865Y5XFbrI50xqCgpsQ6nkgs2qwbAtrO1cOct2AAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0ggUxsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jek7ggRwAAAAA==[0m[Pipeline] { (Deploy)
[8mha:////4Dhc6vB1OBtdMId1An7wvE6PJO9IhyESuHCaM08nBvDkAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0gwExsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jcChmMxwAAAAA==[0m[Pipeline] node
Running on [8mha:////4Kk+vGDJ+b8yIugc9iGm3iREv6UVPUPCZUYw8sqMYWK6AAAAnB+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzWEgYB/eT83ILSktQi/Zz85MQcfQA4ikRwxQAAAA==[0mlocal in C:\jenkins\workspace\prf-beadando
[8mha:////4JQIUtwOOl7jdQ8ORujOneo6CrEW3nZS+A8EcsOsoLdAAAAApR+LCAAAAAAAAP9tjTEOwjAUQ3+KOrAycoh0BAkxsUZZOEFIQkgb/d8mKe3EibgadyBQiQlLlmxL1nu+oE4RjhQdby12HpP2vA+jK4lPFLtroIm3dOGaMFGwXNpJkrGnpUrKFhaxClYC1hZ1oOTRZdiIVt1VExS65pxj2Q4CKm8GeAAThZxVzN8yR9jeRpMIf5y/AJj7DGxXvP/86jfpX/cvwAAAAA==[0m[Pipeline] {
[8mha:////4F0iJ/h67tLaDuOwMtiWf+q8nTSwGdfNHTe7mlhnJ8KAAAAAoh+LCAAAAAAAAP9tjTEOAiEURD9rLGwtPQTbaoyVLaHxBMgiwpL/WWDdrTyRV/MOEjexcpJJ5k3zXm9Y5wQnSpZ7g73DrB2PYbR18YlSfws0cU9XrgkzBcOlmSR15rygpGJgCWtgJWBjUAfKDm2BrfDqodqg0LaXkup3FNC4boAnMFHNRaXyhTnB7j52mfDn+SuAORZg+9pD/AAeoCAqvAAAAA==[0m[Pipeline] tool
[8mha:////4Jt/7xA/iiySb76ItP8AQL/oykBUEZ8l0XCdKIiaZcB1AAAAox+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMKBDglR0VppeIFJjHFi3QX7QlLxIr7GH4iIRMVWO9PM641lijhydKqx1HpKlVdd6N301MCxvQYeVMMXVTElDlaVdii5tqcZSxaLeVmOhcbKUhU4eXKCtW7MwxTBkCvOEid30Mh9fccTmZ7KYqJ8YYzY3Po6Mf06fwMYO0G2F+S7bfcBITL9lL0AAAA=[0m[Pipeline] envVarsForTool
[8mha:////4E2374qvA13xerstWZLwoH18uH+83Fi/kPohZ7+F9OAYAAAAph+LCAAAAAAAAP9tjTEOwjAQBC9BKWgpeYSjdEiIitZywwtMbIwT6y7YF5KKF/E1/oAhEhVb7ay0mucLqhThQNGJzmLvMbVeDGF0uYmJYn8JNImOzqIlTBSsUHZSZOxxQUVsYUlRwkrC2mIbKHl0DBvZ6buug0ZXnzjmbS+h9OYGDyhkNrOO/IU5wvY6mkT48/wVwDwwFDuGsmk+x+oN1KVskMEAAAA=[0m[Pipeline] withEnv
[8mha:////4Eu3wUkyGWW+1HWYWkOpVKwv2xKaA5Egk6YZ4MXIiOrgAAAAph+LCAAAAAAAAP9tjTEOwjAUQ3+LOrAycohUZUVMrFEWThCaEJJG/7dJSjpxIq7GHWipxIQHy7ZkvdcbqhjgRMEwp7GzGFvLej+aObFMobt5yszRlbWEkbxmQmdBSp/XKihpWFWUsOGw1dh6ihZNgh138iFrL9HUlxTm7cihtGqAJxR8JicZ0rdMAfb3UUXCH+cvAKY+Qdk0ix2WZ/UBbwyqm8IAAAA=[0m[Pipeline] {
[8mha:////4OTTpGk1BlnHrodUf20rkvl+pj+hmDEZ5z211bOeB/zgAAAAox+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIioERUaS03vMDExjix7oztkFS8iK/xBwKRqNhitbPNPF+wTBGOHC22hjpHqXEYfG+nhQPH7uJ5wJbP2DAl9galGSRrU88oORuYU5SwELAy1HhOjmyGtWjVXVVeka1OOU7fQUDp9A0eUIjJnFXMXxgjbK69Tkw/z18BjCFDud19ah/eeSmYHb4AAAA=[0m[Pipeline] powershell
Changing directory to C:\Users\buszo\Desktop\prf_beadando\app\infra
Initializing Terraform...
[0m[1mInitializing the backend...[0m
[0m[1mInitializing provider plugins...[0m
- Reusing previous version of hashicorp/kubernetes from the dependency lock file
- Reusing previous version of kreuzwerker/docker from the dependency lock file
- Reusing previous version of hashicorp/null from the dependency lock file
- Using previously-installed hashicorp/kubernetes v2.38.0
- Using previously-installed kreuzwerker/docker v3.6.2
- Using previously-installed hashicorp/null v3.2.4

[0m[1m[32mTerraform has been successfully initialized![0m[32m[0m
[0m[32m
You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.[0m
Applying Terraform configuration...

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # docker_image.client[0m will be created
[0m  [32m+[0m[0m resource "docker_image" "client" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m image_id    = (known after apply)
      [32m+[0m[0m name        = "fakeneptun-client:latest"
      [32m+[0m[0m repo_digest = (known after apply)

      [32m+[0m[0m build {
          [32m+[0m[0m build_args     = {
              [32m+[0m[0m "BACKEND_BASE" = "http://fakeneptun.com/api"
            }
          [32m+[0m[0m cache_from     = []
          [32m+[0m[0m context        = "./../client"
          [32m+[0m[0m dockerfile     = "Dockerfile"
          [32m+[0m[0m extra_hosts    = []
          [32m+[0m[0m remove         = true
          [32m+[0m[0m security_opt   = []
          [32m+[0m[0m tag            = []
            [90m# (13 unchanged attributes hidden)[0m[0m
        }
    }

[1m  # docker_image.custom_mongo[0m will be created
[0m  [32m+[0m[0m resource "docker_image" "custom_mongo" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m image_id    = (known after apply)
      [32m+[0m[0m name        = "custom_mongo:latest"
      [32m+[0m[0m repo_digest = (known after apply)

      [32m+[0m[0m build {
          [32m+[0m[0m cache_from     = []
          [32m+[0m[0m context        = "./../database"
          [32m+[0m[0m dockerfile     = "Dockerfile"
          [32m+[0m[0m extra_hosts    = []
          [32m+[0m[0m remove         = true
          [32m+[0m[0m security_opt   = []
          [32m+[0m[0m tag            = []
            [90m# (13 unchanged attributes hidden)[0m[0m
        }
    }

[1m  # docker_image.server[0m will be created
[0m  [32m+[0m[0m resource "docker_image" "server" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m image_id    = (known after apply)
      [32m+[0m[0m name        = "fakeneptun-server:latest"
      [32m+[0m[0m repo_digest = (known after apply)

      [32m+[0m[0m build {
          [32m+[0m[0m cache_from     = []
          [32m+[0m[0m context        = "./../server"
          [32m+[0m[0m dockerfile     = "Dockerfile"
          [32m+[0m[0m extra_hosts    = []
          [32m+[0m[0m remove         = true
          [32m+[0m[0m security_opt   = []
          [32m+[0m[0m tag            = []
            [90m# (13 unchanged attributes hidden)[0m[0m
        }
    }

[1m  # kubernetes_config_map.nginx_conf[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_config_map" "nginx_conf" {
      [32m+[0m[0m data = {
          [32m+[0m[0m "default.conf" = <<-EOT
                server {
                  listen 80;
                  server_name fakeneptun.com;
                
                  location /api/ {
                    rewrite ^/api(/.*)$ $1 break;
                    proxy_pass http://backend.fakeneptun.svc.cluster.local:12212;
                    proxy_set_header Host $host;
                    proxy_set_header X-Real-IP $remote_addr;
                  }
                
                  location / {
                    rewrite ^([^.]*[^/])$ $1/ break;
                    proxy_pass http://frontend.fakeneptun.svc.cluster.local;
                    proxy_set_header Host $host;
                    proxy_set_header X-Real-IP $remote_addr;
                    proxy_redirect off;
                  }  
                } 
                
                server {
                  server_name prometheus.fakeneptun.com;
                
                  location / {
                    proxy_pass http://prometheus.fakeneptun.svc.cluster.local:9090;
                  }
                }
            EOT
        }
      [32m+[0m[0m id   = (known after apply)

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "nginx-conf"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }
    }

[1m  # kubernetes_config_map.prometheus_config[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_config_map" "prometheus_config" {
      [32m+[0m[0m data = {
          [32m+[0m[0m "prometheus.yml" = <<-EOT
                global:
                  scrape_interval: 5s
                
                scrape_configs:
                  - job_name: 'backend'
                    metrics_path: /metrics
                    static_configs:
                      - targets: ['backend.fakeneptun.svc.cluster.local:12212']
            EOT
        }
      [32m+[0m[0m id   = (known after apply)

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "prometheus-config"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }
    }

[1m  # kubernetes_deployment.backend[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_deployment" "backend" {
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m wait_for_rollout = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m labels           = {
              [32m+[0m[0m "app" = "backend"
            }
          [32m+[0m[0m name             = "backend"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m min_ready_seconds         = 0
          [32m+[0m[0m paused                    = false
          [32m+[0m[0m progress_deadline_seconds = 600
          [32m+[0m[0m replicas                  = "3"
          [32m+[0m[0m revision_history_limit    = 10

          [32m+[0m[0m selector {
              [32m+[0m[0m match_labels = {
                  [32m+[0m[0m "app" = "backend"
                }
            }

          [32m+[0m[0m strategy (known after apply)

          [32m+[0m[0m template {
              [32m+[0m[0m metadata {
                  [32m+[0m[0m generation       = (known after apply)
                  [32m+[0m[0m labels           = {
                      [32m+[0m[0m "app" = "backend"
                    }
                  [32m+[0m[0m name             = (known after apply)
                  [32m+[0m[0m resource_version = (known after apply)
                  [32m+[0m[0m uid              = (known after apply)
                }
              [32m+[0m[0m spec {
                  [32m+[0m[0m automount_service_account_token  = true
                  [32m+[0m[0m dns_policy                       = "ClusterFirst"
                  [32m+[0m[0m enable_service_links             = true
                  [32m+[0m[0m host_ipc                         = false
                  [32m+[0m[0m host_network                     = false
                  [32m+[0m[0m host_pid                         = false
                  [32m+[0m[0m hostname                         = (known after apply)
                  [32m+[0m[0m node_name                        = (known after apply)
                  [32m+[0m[0m restart_policy                   = "Always"
                  [32m+[0m[0m scheduler_name                   = (known after apply)
                  [32m+[0m[0m service_account_name             = (known after apply)
                  [32m+[0m[0m share_process_namespace          = false
                  [32m+[0m[0m termination_grace_period_seconds = 30

                  [32m+[0m[0m container {
                      [32m+[0m[0m image                      = "fakeneptun-server:latest"
                      [32m+[0m[0m image_pull_policy          = "IfNotPresent"
                      [32m+[0m[0m name                       = "backend"
                      [32m+[0m[0m stdin                      = false
                      [32m+[0m[0m stdin_once                 = false
                      [32m+[0m[0m termination_message_path   = "/dev/termination-log"
                      [32m+[0m[0m termination_message_policy = (known after apply)
                      [32m+[0m[0m tty                        = false

                      [32m+[0m[0m env {
                          [32m+[0m[0m name  = "DB_URI"
                          [32m+[0m[0m value = "mongodb://root:password@mongo:27017/fakeNeptun?authSource=admin"
                        }

                      [32m+[0m[0m port {
                          [32m+[0m[0m container_port = 12212
                          [32m+[0m[0m protocol       = "TCP"
                        }

                      [32m+[0m[0m resources (known after apply)
                    }

                  [32m+[0m[0m image_pull_secrets (known after apply)

                  [32m+[0m[0m readiness_gate (known after apply)
                }
            }
        }
    }

[1m  # kubernetes_deployment.frontend[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_deployment" "frontend" {
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m wait_for_rollout = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m labels           = {
              [32m+[0m[0m "app" = "frontend"
            }
          [32m+[0m[0m name             = "frontend"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m min_ready_seconds         = 0
          [32m+[0m[0m paused                    = false
          [32m+[0m[0m progress_deadline_seconds = 600
          [32m+[0m[0m replicas                  = "2"
          [32m+[0m[0m revision_history_limit    = 10

          [32m+[0m[0m selector {
              [32m+[0m[0m match_labels = {
                  [32m+[0m[0m "app" = "frontend"
                }
            }

          [32m+[0m[0m strategy (known after apply)

          [32m+[0m[0m template {
              [32m+[0m[0m metadata {
                  [32m+[0m[0m generation       = (known after apply)
                  [32m+[0m[0m labels           = {
                      [32m+[0m[0m "app" = "frontend"
                    }
                  [32m+[0m[0m name             = (known after apply)
                  [32m+[0m[0m resource_version = (known after apply)
                  [32m+[0m[0m uid              = (known after apply)
                }
              [32m+[0m[0m spec {
                  [32m+[0m[0m automount_service_account_token  = true
                  [32m+[0m[0m dns_policy                       = "ClusterFirst"
                  [32m+[0m[0m enable_service_links             = true
                  [32m+[0m[0m host_ipc                         = false
                  [32m+[0m[0m host_network                     = false
                  [32m+[0m[0m host_pid                         = false
                  [32m+[0m[0m hostname                         = (known after apply)
                  [32m+[0m[0m node_name                        = (known after apply)
                  [32m+[0m[0m restart_policy                   = "Always"
                  [32m+[0m[0m scheduler_name                   = (known after apply)
                  [32m+[0m[0m service_account_name             = (known after apply)
                  [32m+[0m[0m share_process_namespace          = false
                  [32m+[0m[0m termination_grace_period_seconds = 30

                  [32m+[0m[0m container {
                      [32m+[0m[0m image                      = "fakeneptun-client:latest"
                      [32m+[0m[0m image_pull_policy          = "IfNotPresent"
                      [32m+[0m[0m name                       = "frontend"
                      [32m+[0m[0m stdin                      = false
                      [32m+[0m[0m stdin_once                 = false
                      [32m+[0m[0m termination_message_path   = "/dev/termination-log"
                      [32m+[0m[0m termination_message_policy = (known after apply)
                      [32m+[0m[0m tty                        = false

                      [32m+[0m[0m port {
                          [32m+[0m[0m container_port = 4000
                          [32m+[0m[0m protocol       = "TCP"
                        }

                      [32m+[0m[0m resources (known after apply)
                    }

                  [32m+[0m[0m image_pull_secrets (known after apply)

                  [32m+[0m[0m readiness_gate (known after apply)
                }
            }
        }
    }

[1m  # kubernetes_deployment.mongo[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_deployment" "mongo" {
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m wait_for_rollout = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m labels           = {
              [32m+[0m[0m "app" = "mongo"
            }
          [32m+[0m[0m name             = "mongo"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m min_ready_seconds         = 0
          [32m+[0m[0m paused                    = false
          [32m+[0m[0m progress_deadline_seconds = 600
          [32m+[0m[0m replicas                  = "1"
          [32m+[0m[0m revision_history_limit    = 10

          [32m+[0m[0m selector {
              [32m+[0m[0m match_labels = {
                  [32m+[0m[0m "app" = "mongo"
                }
            }

          [32m+[0m[0m strategy (known after apply)

          [32m+[0m[0m template {
              [32m+[0m[0m metadata {
                  [32m+[0m[0m generation       = (known after apply)
                  [32m+[0m[0m labels           = {
                      [32m+[0m[0m "app" = "mongo"
                    }
                  [32m+[0m[0m name             = (known after apply)
                  [32m+[0m[0m resource_version = (known after apply)
                  [32m+[0m[0m uid              = (known after apply)
                }
              [32m+[0m[0m spec {
                  [32m+[0m[0m automount_service_account_token  = true
                  [32m+[0m[0m dns_policy                       = "ClusterFirst"
                  [32m+[0m[0m enable_service_links             = true
                  [32m+[0m[0m host_ipc                         = false
                  [32m+[0m[0m host_network                     = false
                  [32m+[0m[0m host_pid                         = false
                  [32m+[0m[0m hostname                         = (known after apply)
                  [32m+[0m[0m node_name                        = (known after apply)
                  [32m+[0m[0m restart_policy                   = "Always"
                  [32m+[0m[0m scheduler_name                   = (known after apply)
                  [32m+[0m[0m service_account_name             = (known after apply)
                  [32m+[0m[0m share_process_namespace          = false
                  [32m+[0m[0m termination_grace_period_seconds = 30

                  [32m+[0m[0m container {
                      [32m+[0m[0m image                      = "custom_mongo:latest"
                      [32m+[0m[0m image_pull_policy          = "IfNotPresent"
                      [32m+[0m[0m name                       = "mongo"
                      [32m+[0m[0m stdin                      = false
                      [32m+[0m[0m stdin_once                 = false
                      [32m+[0m[0m termination_message_path   = "/dev/termination-log"
                      [32m+[0m[0m termination_message_policy = (known after apply)
                      [32m+[0m[0m tty                        = false

                      [32m+[0m[0m env {
                          [32m+[0m[0m name  = "MONGO_INITDB_ROOT_USERNAME"
                          [32m+[0m[0m value = "root"
                        }
                      [32m+[0m[0m env {
                          [32m+[0m[0m name  = "MONGO_INITDB_ROOT_PASSWORD"
                          [32m+[0m[0m value = "password"
                        }

                      [32m+[0m[0m port {
                          [32m+[0m[0m container_port = 27017
                          [32m+[0m[0m protocol       = "TCP"
                        }

                      [32m+[0m[0m resources (known after apply)

                      [32m+[0m[0m volume_mount {
                          [32m+[0m[0m mount_path        = "/data/db"
                          [32m+[0m[0m mount_propagation = "None"
                          [32m+[0m[0m name              = "mongo-data"
                          [32m+[0m[0m read_only         = false
                        }
                    }

                  [32m+[0m[0m image_pull_secrets (known after apply)

                  [32m+[0m[0m readiness_gate (known after apply)

                  [32m+[0m[0m volume {
                      [32m+[0m[0m name = "mongo-data"

                      [32m+[0m[0m persistent_volume_claim {
                          [32m+[0m[0m claim_name = "mongo-pvc"
                          [32m+[0m[0m read_only  = false
                        }
                    }
                }
            }
        }
    }

[1m  # kubernetes_deployment.nginx[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_deployment" "nginx" {
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m wait_for_rollout = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m labels           = {
              [32m+[0m[0m "app" = "nginx-proxy"
            }
          [32m+[0m[0m name             = "nginx-proxy"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m min_ready_seconds         = 0
          [32m+[0m[0m paused                    = false
          [32m+[0m[0m progress_deadline_seconds = 600
          [32m+[0m[0m replicas                  = "1"
          [32m+[0m[0m revision_history_limit    = 10

          [32m+[0m[0m selector {
              [32m+[0m[0m match_labels = {
                  [32m+[0m[0m "app" = "nginx-proxy"
                }
            }

          [32m+[0m[0m strategy (known after apply)

          [32m+[0m[0m template {
              [32m+[0m[0m metadata {
                  [32m+[0m[0m generation       = (known after apply)
                  [32m+[0m[0m labels           = {
                      [32m+[0m[0m "app" = "nginx-proxy"
                    }
                  [32m+[0m[0m name             = (known after apply)
                  [32m+[0m[0m resource_version = (known after apply)
                  [32m+[0m[0m uid              = (known after apply)
                }
              [32m+[0m[0m spec {
                  [32m+[0m[0m automount_service_account_token  = true
                  [32m+[0m[0m dns_policy                       = "ClusterFirst"
                  [32m+[0m[0m enable_service_links             = true
                  [32m+[0m[0m host_ipc                         = false
                  [32m+[0m[0m host_network                     = false
                  [32m+[0m[0m host_pid                         = false
                  [32m+[0m[0m hostname                         = (known after apply)
                  [32m+[0m[0m node_name                        = (known after apply)
                  [32m+[0m[0m restart_policy                   = "Always"
                  [32m+[0m[0m scheduler_name                   = (known after apply)
                  [32m+[0m[0m service_account_name             = (known after apply)
                  [32m+[0m[0m share_process_namespace          = false
                  [32m+[0m[0m termination_grace_period_seconds = 30

                  [32m+[0m[0m container {
                      [32m+[0m[0m image                      = "nginx:1.25"
                      [32m+[0m[0m image_pull_policy          = (known after apply)
                      [32m+[0m[0m name                       = "nginx"
                      [32m+[0m[0m stdin                      = false
                      [32m+[0m[0m stdin_once                 = false
                      [32m+[0m[0m termination_message_path   = "/dev/termination-log"
                      [32m+[0m[0m termination_message_policy = (known after apply)
                      [32m+[0m[0m tty                        = false

                      [32m+[0m[0m port {
                          [32m+[0m[0m container_port = 80
                          [32m+[0m[0m protocol       = "TCP"
                        }

                      [32m+[0m[0m resources (known after apply)

                      [32m+[0m[0m volume_mount {
                          [32m+[0m[0m mount_path        = "/etc/nginx/conf.d"
                          [32m+[0m[0m mount_propagation = "None"
                          [32m+[0m[0m name              = "nginx-conf"
                          [32m+[0m[0m read_only         = false
                        }
                    }

                  [32m+[0m[0m image_pull_secrets (known after apply)

                  [32m+[0m[0m readiness_gate (known after apply)

                  [32m+[0m[0m volume {
                      [32m+[0m[0m name = "nginx-conf"

                      [32m+[0m[0m config_map {
                          [32m+[0m[0m default_mode = "0644"
                          [32m+[0m[0m name         = "nginx-conf"
                        }
                    }
                }
            }
        }
    }

[1m  # kubernetes_deployment.prometheus[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_deployment" "prometheus" {
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m wait_for_rollout = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m labels           = {
              [32m+[0m[0m "app" = "prometheus"
            }
          [32m+[0m[0m name             = "prometheus"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m min_ready_seconds         = 0
          [32m+[0m[0m paused                    = false
          [32m+[0m[0m progress_deadline_seconds = 600
          [32m+[0m[0m replicas                  = "1"
          [32m+[0m[0m revision_history_limit    = 10

          [32m+[0m[0m selector {
              [32m+[0m[0m match_labels = {
                  [32m+[0m[0m "app" = "prometheus"
                }
            }

          [32m+[0m[0m strategy (known after apply)

          [32m+[0m[0m template {
              [32m+[0m[0m metadata {
                  [32m+[0m[0m generation       = (known after apply)
                  [32m+[0m[0m labels           = {
                      [32m+[0m[0m "app" = "prometheus"
                    }
                  [32m+[0m[0m name             = (known after apply)
                  [32m+[0m[0m resource_version = (known after apply)
                  [32m+[0m[0m uid              = (known after apply)
                }
              [32m+[0m[0m spec {
                  [32m+[0m[0m automount_service_account_token  = true
                  [32m+[0m[0m dns_policy                       = "ClusterFirst"
                  [32m+[0m[0m enable_service_links             = true
                  [32m+[0m[0m host_ipc                         = false
                  [32m+[0m[0m host_network                     = false
                  [32m+[0m[0m host_pid                         = false
                  [32m+[0m[0m hostname                         = (known after apply)
                  [32m+[0m[0m node_name                        = (known after apply)
                  [32m+[0m[0m restart_policy                   = "Always"
                  [32m+[0m[0m scheduler_name                   = (known after apply)
                  [32m+[0m[0m service_account_name             = (known after apply)
                  [32m+[0m[0m share_process_namespace          = false
                  [32m+[0m[0m termination_grace_period_seconds = 30

                  [32m+[0m[0m container {
                      [32m+[0m[0m args                       = [
                          [32m+[0m[0m "--config.file=/etc/prometheus/prometheus.yml",
                        ]
                      [32m+[0m[0m image                      = "prom/prometheus:v2.53.0"
                      [32m+[0m[0m image_pull_policy          = (known after apply)
                      [32m+[0m[0m name                       = "prometheus"
                      [32m+[0m[0m stdin                      = false
                      [32m+[0m[0m stdin_once                 = false
                      [32m+[0m[0m termination_message_path   = "/dev/termination-log"
                      [32m+[0m[0m termination_message_policy = (known after apply)
                      [32m+[0m[0m tty                        = false

                      [32m+[0m[0m port {
                          [32m+[0m[0m container_port = 9090
                          [32m+[0m[0m protocol       = "TCP"
                        }

                      [32m+[0m[0m resources (known after apply)

                      [32m+[0m[0m volume_mount {
                          [32m+[0m[0m mount_path        = "/etc/prometheus/"
                          [32m+[0m[0m mount_propagation = "None"
                          [32m+[0m[0m name              = "config-volume"
                          [32m+[0m[0m read_only         = false
                        }
                    }

                  [32m+[0m[0m image_pull_secrets (known after apply)

                  [32m+[0m[0m readiness_gate (known after apply)

                  [32m+[0m[0m volume {
                      [32m+[0m[0m name = "config-volume"

                      [32m+[0m[0m config_map {
                          [32m+[0m[0m default_mode = "0644"
                          [32m+[0m[0m name         = "prometheus-config"
                        }
                    }
                }
            }
        }
    }

[1m  # kubernetes_namespace.app[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_namespace" "app" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m wait_for_default_service_account = false

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }
    }

[1m  # kubernetes_persistent_volume_claim.mongo_pvc[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_persistent_volume_claim" "mongo_pvc" {
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m wait_until_bound = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "mongo-pvc"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m access_modes       = [
              [32m+[0m[0m "ReadWriteOnce",
            ]
          [32m+[0m[0m storage_class_name = "standard"
          [32m+[0m[0m volume_mode        = (known after apply)
          [32m+[0m[0m volume_name        = (known after apply)

          [32m+[0m[0m resources {
              [32m+[0m[0m requests = {
                  [32m+[0m[0m "storage" = "2Gi"
                }
            }
        }
    }

[1m  # kubernetes_service.backend[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_service" "backend" {
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m status                 = (known after apply)
      [32m+[0m[0m wait_for_load_balancer = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "backend"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m allocate_load_balancer_node_ports = true
          [32m+[0m[0m cluster_ip                        = (known after apply)
          [32m+[0m[0m cluster_ips                       = (known after apply)
          [32m+[0m[0m external_traffic_policy           = (known after apply)
          [32m+[0m[0m health_check_node_port            = (known after apply)
          [32m+[0m[0m internal_traffic_policy           = (known after apply)
          [32m+[0m[0m ip_families                       = (known after apply)
          [32m+[0m[0m ip_family_policy                  = (known after apply)
          [32m+[0m[0m publish_not_ready_addresses       = false
          [32m+[0m[0m selector                          = {
              [32m+[0m[0m "app" = "backend"
            }
          [32m+[0m[0m session_affinity                  = "None"
          [32m+[0m[0m type                              = "ClusterIP"

          [32m+[0m[0m port {
              [32m+[0m[0m node_port   = (known after apply)
              [32m+[0m[0m port        = 12212
              [32m+[0m[0m protocol    = "TCP"
              [32m+[0m[0m target_port = "12212"
            }

          [32m+[0m[0m session_affinity_config (known after apply)
        }
    }

[1m  # kubernetes_service.frontend[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_service" "frontend" {
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m status                 = (known after apply)
      [32m+[0m[0m wait_for_load_balancer = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "frontend"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m allocate_load_balancer_node_ports = true
          [32m+[0m[0m cluster_ip                        = (known after apply)
          [32m+[0m[0m cluster_ips                       = (known after apply)
          [32m+[0m[0m external_traffic_policy           = (known after apply)
          [32m+[0m[0m health_check_node_port            = (known after apply)
          [32m+[0m[0m internal_traffic_policy           = (known after apply)
          [32m+[0m[0m ip_families                       = (known after apply)
          [32m+[0m[0m ip_family_policy                  = (known after apply)
          [32m+[0m[0m publish_not_ready_addresses       = false
          [32m+[0m[0m selector                          = {
              [32m+[0m[0m "app" = "frontend"
            }
          [32m+[0m[0m session_affinity                  = "None"
          [32m+[0m[0m type                              = "ClusterIP"

          [32m+[0m[0m port {
              [32m+[0m[0m node_port   = (known after apply)
              [32m+[0m[0m port        = 80
              [32m+[0m[0m protocol    = "TCP"
              [32m+[0m[0m target_port = "4000"
            }

          [32m+[0m[0m session_affinity_config (known after apply)
        }
    }

[1m  # kubernetes_service.mongo[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_service" "mongo" {
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m status                 = (known after apply)
      [32m+[0m[0m wait_for_load_balancer = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "mongo"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m allocate_load_balancer_node_ports = true
          [32m+[0m[0m cluster_ip                        = (known after apply)
          [32m+[0m[0m cluster_ips                       = (known after apply)
          [32m+[0m[0m external_traffic_policy           = (known after apply)
          [32m+[0m[0m health_check_node_port            = (known after apply)
          [32m+[0m[0m internal_traffic_policy           = (known after apply)
          [32m+[0m[0m ip_families                       = (known after apply)
          [32m+[0m[0m ip_family_policy                  = (known after apply)
          [32m+[0m[0m publish_not_ready_addresses       = false
          [32m+[0m[0m selector                          = {
              [32m+[0m[0m "app" = "mongo"
            }
          [32m+[0m[0m session_affinity                  = "None"
          [32m+[0m[0m type                              = "ClusterIP"

          [32m+[0m[0m port {
              [32m+[0m[0m node_port   = (known after apply)
              [32m+[0m[0m port        = 27017
              [32m+[0m[0m protocol    = "TCP"
              [32m+[0m[0m target_port = "27017"
            }

          [32m+[0m[0m session_affinity_config (known after apply)
        }
    }

[1m  # kubernetes_service.nginx[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_service" "nginx" {
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m status                 = (known after apply)
      [32m+[0m[0m wait_for_load_balancer = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "nginx-proxy"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m allocate_load_balancer_node_ports = true
          [32m+[0m[0m cluster_ip                        = (known after apply)
          [32m+[0m[0m cluster_ips                       = (known after apply)
          [32m+[0m[0m external_traffic_policy           = (known after apply)
          [32m+[0m[0m health_check_node_port            = (known after apply)
          [32m+[0m[0m internal_traffic_policy           = (known after apply)
          [32m+[0m[0m ip_families                       = (known after apply)
          [32m+[0m[0m ip_family_policy                  = (known after apply)
          [32m+[0m[0m publish_not_ready_addresses       = false
          [32m+[0m[0m selector                          = {
              [32m+[0m[0m "app" = "nginx-proxy"
            }
          [32m+[0m[0m session_affinity                  = "None"
          [32m+[0m[0m type                              = "LoadBalancer"

          [32m+[0m[0m port {
              [32m+[0m[0m node_port   = (known after apply)
              [32m+[0m[0m port        = 80
              [32m+[0m[0m protocol    = "TCP"
              [32m+[0m[0m target_port = "80"
            }

          [32m+[0m[0m session_affinity_config (known after apply)
        }
    }

[1m  # kubernetes_service.prometheus[0m will be created
[0m  [32m+[0m[0m resource "kubernetes_service" "prometheus" {
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m status                 = (known after apply)
      [32m+[0m[0m wait_for_load_balancer = true

      [32m+[0m[0m metadata {
          [32m+[0m[0m generation       = (known after apply)
          [32m+[0m[0m name             = "prometheus"
          [32m+[0m[0m namespace        = "fakeneptun"
          [32m+[0m[0m resource_version = (known after apply)
          [32m+[0m[0m uid              = (known after apply)
        }

      [32m+[0m[0m spec {
          [32m+[0m[0m allocate_load_balancer_node_ports = true
          [32m+[0m[0m cluster_ip                        = (known after apply)
          [32m+[0m[0m cluster_ips                       = (known after apply)
          [32m+[0m[0m external_traffic_policy           = (known after apply)
          [32m+[0m[0m health_check_node_port            = (known after apply)
          [32m+[0m[0m internal_traffic_policy           = (known after apply)
          [32m+[0m[0m ip_families                       = (known after apply)
          [32m+[0m[0m ip_family_policy                  = (known after apply)
          [32m+[0m[0m publish_not_ready_addresses       = false
          [32m+[0m[0m selector                          = {
              [32m+[0m[0m "app" = "prometheus"
            }
          [32m+[0m[0m session_affinity                  = "None"
          [32m+[0m[0m type                              = "ClusterIP"

          [32m+[0m[0m port {
              [32m+[0m[0m node_port   = (known after apply)
              [32m+[0m[0m port        = 9090
              [32m+[0m[0m protocol    = "TCP"
              [32m+[0m[0m target_port = "9090"
            }

          [32m+[0m[0m session_affinity_config (known after apply)
        }
    }

[1m  # null_resource.load_backend_image[0m will be created
[0m  [32m+[0m[0m resource "null_resource" "load_backend_image" {
      [32m+[0m[0m id = (known after apply)
    }

[1m  # null_resource.load_custom_mongo[0m will be created
[0m  [32m+[0m[0m resource "null_resource" "load_custom_mongo" {
      [32m+[0m[0m id = (known after apply)
    }

[1m  # null_resource.load_frontend_image[0m will be created
[0m  [32m+[0m[0m resource "null_resource" "load_frontend_image" {
      [32m+[0m[0m id = (known after apply)
    }

[1mPlan:[0m 20 to add, 0 to change, 0 to destroy.
[0m
Changes to Outputs:
  [32m+[0m[0m minikube_instructions = <<-EOT
        1) NÃƒÂ©zd meg az external IP-t, amit az nginx kapott 
           kubectl get svc -n fakeneptun 
        2) Add hozzÃƒÂ¡ ezeket a sorokat a /etc/hosts fÃƒÂ¡jlhoz (Windows: C:/Windows/System32/drivers/etc/hosts)
           <NGINX_IP> fakeneptun.com (pl.: 127.0.0.1 fakeneptun.com)
           <NGINX_IP> prometheus.fakeneptun.com (pl.: 127.0.0.1 prometheus.fakeneptun.com)
          
          Ezek utÃƒÂ¡n bÃƒÂ¶ngÃƒÂ©szÃ…â€˜bÃ…â€˜l elÃƒÂ©rhetÃ…â€˜ az alkalmazÃƒÂ¡s a http://fakeneptun.com cÃƒÂ­men 
          A prometheus pedig a http://prometheus.fakeneptun.com cÃƒÂ­men
    EOT
  [32m+[0m[0m nginx_nodeport        = (known after apply)
[0m[1mkubernetes_namespace.app: Creating...[0m[0m
[0m[1mdocker_image.client: Creating...[0m[0m
[0m[1mdocker_image.custom_mongo: Creating...[0m[0m
[0m[1mdocker_image.server: Creating...[0m[0m
[0m[1mkubernetes_namespace.app: Creation complete after 0s [id=fakeneptun][0m
[0m[1mkubernetes_config_map.nginx_conf: Creating...[0m[0m
[0m[1mkubernetes_config_map.prometheus_config: Creating...[0m[0m
[0m[1mkubernetes_service.prometheus: Creating...[0m[0m
[0m[1mkubernetes_service.mongo: Creating...[0m[0m
[0m[1mkubernetes_persistent_volume_claim.mongo_pvc: Creating...[0m[0m
[0m[1mkubernetes_config_map.prometheus_config: Creation complete after 0s [id=fakeneptun/prometheus-config][0m
[0m[1mkubernetes_config_map.nginx_conf: Creation complete after 0s [id=fakeneptun/nginx-conf][0m
[0m[1mkubernetes_service.prometheus: Creation complete after 0s [id=fakeneptun/prometheus][0m
[0m[1mkubernetes_service.mongo: Creation complete after 0s [id=fakeneptun/mongo][0m
[0m[1mkubernetes_deployment.prometheus: Creating...[0m[0m
[0m[1mkubernetes_persistent_volume_claim.mongo_pvc: Creation complete after 0s [id=fakeneptun/mongo-pvc][0m
[0m[1mkubernetes_deployment.prometheus: Creation complete after 2s [id=fakeneptun/prometheus][0m
[0m[1mdocker_image.client: Creation complete after 2s [id=sha256:d01e0c3083ed95f199d55150d552dc633095fbb0fb125b7cc09b845f574afa28fakeneptun-client:latest][0m
[0m[1mnull_resource.load_frontend_image: Creating...[0m[0m
[0m[1mnull_resource.load_frontend_image: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.load_frontend_image (local-exec):[0m [0mExecuting: ["PowerShell" "-Command" "$ErrorActionPreference = \"Stop\"\r\n$MINIKUBE_IP = (minikube -p minikube ip)\r\nWrite-Output \"minikube ip: $MINIKUBE_IP\"\r\nminikube -p minikube image load fakeneptun-client:latest\r\n"]
[0m[1mdocker_image.custom_mongo: Creation complete after 2s [id=sha256:8e0a79c1d09ab41636908d51792335ffa828e5934b578fdfd3d070deb6437d71custom_mongo:latest][0m
[0m[1mnull_resource.load_custom_mongo: Creating...[0m[0m
[0m[1mnull_resource.load_custom_mongo: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.load_custom_mongo (local-exec):[0m [0mExecuting: ["PowerShell" "-Command" "$ErrorActionPreference = \"Stop\"\r\n$MINIKUBE_IP = (minikube -p minikube ip)\r\nWrite-Output \"minikube ip: $MINIKUBE_IP\"\r\nminikube -p minikube image load custom_mongo:latest\r\n"]
[0m[1mnull_resource.load_frontend_image (local-exec):[0m [0mminikube ip: 192.168.49.2
[0m[1mnull_resource.load_custom_mongo (local-exec):[0m [0mminikube ip: 192.168.49.2
[0m[1mdocker_image.server: Creation complete after 5s [id=sha256:f81fa828f43b78f3e96e2182cde99672d95b874edd4dbc71bfc509aca481f28dfakeneptun-server:latest][0m
[0m[1mnull_resource.load_frontend_image: Still creating... [00m10s elapsed][0m[0m
[0m[1mnull_resource.load_custom_mongo: Still creating... [00m10s elapsed][0m[0m
[0m[1mnull_resource.load_frontend_image: Creation complete after 17s [id=3418163727996705156][0m
[0m[1mkubernetes_service.frontend: Creating...[0m[0m
[0m[1mkubernetes_service.frontend: Creation complete after 0s [id=fakeneptun/frontend][0m
[0m[1mnull_resource.load_custom_mongo: Still creating... [00m20s elapsed][0m[0m
[0m[1mnull_resource.load_custom_mongo: Still creating... [00m30s elapsed][0m[0m
[0m[1mnull_resource.load_custom_mongo: Still creating... [00m40s elapsed][0m[0m
[0m[1mnull_resource.load_custom_mongo: Still creating... [00m50s elapsed][0m[0m
[0m[1mnull_resource.load_custom_mongo: Still creating... [01m00s elapsed][0m[0m
[0m[1mnull_resource.load_custom_mongo: Creation complete after 1m0s [id=8000189691650638693][0m
[0m[1mkubernetes_deployment.mongo: Creating...[0m[0m
[0m[1mkubernetes_deployment.mongo: Creation complete after 4s [id=fakeneptun/mongo][0m
[0m[1mnull_resource.load_backend_image: Creating...[0m[0m
[0m[1mnull_resource.load_backend_image: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.load_backend_image (local-exec):[0m [0mExecuting: ["PowerShell" "-Command" "$ErrorActionPreference = \"Stop\"\r\n$MINIKUBE_IP = (minikube -p minikube ip)\r\nWrite-Output \"minikube ip: $MINIKUBE_IP\"\r\nminikube -p minikube image load fakeneptun-server:latest\r\n"]
[0m[1mnull_resource.load_backend_image (local-exec):[0m [0mminikube ip: 192.168.49.2
[0m[1mnull_resource.load_backend_image: Still creating... [00m10s elapsed][0m[0m
[0m[1mnull_resource.load_backend_image: Still creating... [00m20s elapsed][0m[0m
[0m[1mnull_resource.load_backend_image: Creation complete after 21s [id=3033314970251069207][0m
[0m[1mkubernetes_service.backend: Creating...[0m[0m
[0m[1mkubernetes_deployment.backend: Creating...[0m[0m
[0m[1mkubernetes_service.backend: Creation complete after 0s [id=fakeneptun/backend][0m
[0m[1mkubernetes_deployment.backend: Creation complete after 4s [id=fakeneptun/backend][0m
[0m[1mkubernetes_deployment.frontend: Creating...[0m[0m
[0m[1mkubernetes_deployment.frontend: Creation complete after 3s [id=fakeneptun/frontend][0m
[0m[1mkubernetes_service.nginx: Creating...[0m[0m
[0m[1mkubernetes_deployment.nginx: Creating...[0m[0m
[0m[1mkubernetes_service.nginx: Creation complete after 1s [id=fakeneptun/nginx-proxy][0m
[0m[1mkubernetes_deployment.nginx: Creation complete after 2s [id=fakeneptun/nginx-proxy][0m
[0m[1m[32m
Apply complete! Resources: 20 added, 0 changed, 0 destroyed.
[0m[0m[1m[32m
Outputs:

[0mminikube_instructions = <<EOT
1) NÃƒÂ©zd meg az external IP-t, amit az nginx kapott 
   kubectl get svc -n fakeneptun 
2) Add hozzÃƒÂ¡ ezeket a sorokat a /etc/hosts fÃƒÂ¡jlhoz (Windows: C:/Windows/System32/drivers/etc/hosts)
   <NGINX_IP> fakeneptun.com (pl.: 127.0.0.1 fakeneptun.com)
   <NGINX_IP> prometheus.fakeneptun.com (pl.: 127.0.0.1 prometheus.fakeneptun.com)
  
  Ezek utÃƒÂ¡n bÃƒÂ¶ngÃƒÂ©szÃ…â€˜bÃ…â€˜l elÃƒÂ©rhetÃ…â€˜ az alkalmazÃƒÂ¡s a http://fakeneptun.com cÃƒÂ­men 
  A prometheus pedig a http://prometheus.fakeneptun.com cÃƒÂ­men

EOT
nginx_nodeport = 32421
[8mha:////4AMyqpoREh1tuufoxb8gnTca3+pev1ugrH8sVykIRLLKAAAApB+LCAAAAAAAAP9tjTEOwjAQBC9BFLSUPOIiEB2iSmu54QUmNsaJdWdsh6TiRXyNPxCIRMUWq51t5vmCZYpw5GixNdQ5So3D4Hs7LRw4dhfPA7Z8xoYpsTcozSBZm3pGydnAnKKEhYCVocZzcmQzrEWr7qryimx1ynH6DgJKp2/wgEJM5qxi/sIYYXPtdWL6ef4KYAwhQ7ndf2r3BoOEdWO+AAAA[0m[Pipeline] }
[8mha:////4Fb5VmshxyjyE3muVnyAnaQoXTjRUB1zPYpMFrKjkHeMAAAAox+LCAAAAAAAAP9tjTESwiAURH/iWNhaeggyKawcK1uGxhNggghh/idAJJUn8mreQTQzVm6xs2+b93zBOgY4UtDMKhwMxs4w7yZdFssUhqujzCxdWEcYySkmVBbUq9OCgpKCJVUNKw4bhZ2jaFAn2HIr77JxEnVzTqF8Bw616Ud4QMWLOcmQvjAH2N2mPhL+PH8FMHufoG73n2rfnAYgMb4AAAA=[0m[Pipeline] // withEnv
[8mha:////4ARI69qwpZo2U4Uo9cPcZTfAdnFhmOwZfkHjyphH1cMbAAAApB+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMIRDUJCVLRWGl5gEmOcWHfBvpBUvIiv8QciIlGx1c4083pjmSKOHJ1qLLWeUuVVF3o3PTVwbK+BB9XwRVVMiYNVpR1Kru1pxpLFYl6WY6GxslQFTp6cYK0b8zBFMOSKs8TJHTRyX9/xRKanspgoXxgjNre+Tky/zt8Axq4T5NudINt/AA6Ss1S9AAAA[0m[Pipeline] }
[8mha:////4Px/TZ32Mk/yUwGh9TiRXdK8EwQTKKa6tXGCS0Z6FSAjAAAAox+LCAAAAAAAAP9tjTESgjAQRT84FraWHiKMFYVjZZuh8QQRYgxkdjFZhMoTeTXvICMzVv7qv9e81xvrFHHk6FRrqfOUaq/6MLj5qZFjdw08qpYvqmZKHKyq7FhxY08LViwWy7IcK42NpTpw8uQEW92ahymCIVecJc7uoJH75o4nMj2XxUT5whSxuw1NYvp1/gYw9b0g35eCrPwAL6Zs+b0AAAA=[0m[Pipeline] // node
[8mha:////4GGcoC4j7huMhiTVCrHL1wJLPVpVDE07dZEPtR4zcFGLAAAApB+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMIRDUJCVLRWGl5gEmOcWHfBvpBUvIiv8QciIlGx1c4083pjmSKOHJ1qLLWeUuVVF3o3PTVwbK+BB9XwRVVMiYNVpR1Kru1pxpLFYl6WY6GxslQFTp6cYK0b8zBFMOSKs8TJHTRyX9/xRKanspgoXxgjNre+Tky/zt8Axq4T5Nu9INt9AGgBOwy9AAAA[0m[Pipeline] }
[8mha:////4A99tzt8uBmoj1OTPWWTRfJ6EuzmRKEl+erqQEd2vBxJAAAApB+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMIRBQVCVLRWGl5gEmOcWHfBvpBUvIiv8QciIlGx1c4083pjmSKOHJ1qLLWeUuVVF3o3PTVwbK+BB9XwRVVMiYNVpR1Kru1pxpLFYl6WY6GxslQFTp6cYK0b8zBFMOSKs8TJHTRyX9/xRKanspgoXxgjNre+Tky/zt8Axq4T5Nu9INt9AGJ5Uqi9AAAA[0m[Pipeline] // stage
[8mha:////4BJmA9n7AB+tsQC+XeLycWB8J1G1A9N3e+sX4CrNaSTUAAAAox+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMJBiA5R0VppeIFJjHFi3QX7QlLxIr7GH4iIRMVWO9PM641lijhydKqx1HpKlVdd6N301MCxvQYeVMMXVTElDlaVdii5tqcZSxaLeVmOhcbKUhU4eXKCtW7MwxTBkCvOEid30Mh9fccTmZ7KYqJ8YYzY3Po6Mf06fwMYu06Q77aCbP8BK1nRVL0AAAA=[0m[Pipeline] }
[8mha:////4E0rvYiHXOfJq/E9wCU8hBpcDJqXnrVBkWBAOvAXl2WOAAAAoh+LCAAAAAAAAP9tjTEOwjAQBDdBFLSUPMIRUCIqWisNLzCJMU6su2BfSCpexNf4AxGRqNhqZ5p5vbFMEUeOTjWWWk+p8qoLvZueGji218CDaviiKqbEwarSDiXX9jRjyWIxL8ux0FhZqgInT06w1o15mCIYcsVZ4uQOGrmv73gi01NZTJQvjBGbW18npl/nbwBj1wny3VaQ7T845dX3vQAAAA==[0m[Pipeline] // withEnv
[8mha:////4JNm61z6ELCZMRZLPadR4UW2L/qY1SA1NaCUx1gPjlTAAAAAoh+LCAAAAAAAAP9tjbEOgjAURS8YB1dHP6IkrMbJtWHxCyrUWmjeg/YhTH6Rv+Y/SCRx8k73nOW83timiBNHp1pLnadUe9WH0S1PTRy7W+BJtXxVNVPiYFVlp4obe16xYrFYl+XYaOws1YGTJyfY69Y8TBEMueIicXFHjdw3A57I9FIWE+ULc8ThPjaJ6df5G8Dc94K8LAVZ+QF+r3LHvQAAAA==[0m[Pipeline] End of Pipeline
Finished: SUCCESS
